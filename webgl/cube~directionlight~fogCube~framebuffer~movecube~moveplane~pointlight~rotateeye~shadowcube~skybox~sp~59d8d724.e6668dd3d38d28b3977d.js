(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["cube~directionlight~fogCube~framebuffer~movecube~moveplane~pointlight~rotateeye~shadowcube~skybox~sp~59d8d724"],{

/***/ "ae2N":
/*!****************************!*\
  !*** ./src/WebGlHelper.js ***!
  \****************************/
/*! exports provided: initWebGl, initBuffersForLaterUse, initElementBuffersForLaterUse, loadFile, loadBinaryFile, loadShader, initShaderProgram, setEyePosition, initTexture, setupTextureFilteringAndMips, initCubeMapTexture, initCubeMapTextureForLaterUse, setupCubeMapTextureFilteringAndMips, initFramebufferObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initWebGl", function() { return initWebGl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initBuffersForLaterUse", function() { return initBuffersForLaterUse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initElementBuffersForLaterUse", function() { return initElementBuffersForLaterUse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadFile", function() { return loadFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadBinaryFile", function() { return loadBinaryFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadShader", function() { return loadShader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initShaderProgram", function() { return initShaderProgram; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setEyePosition", function() { return setEyePosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initTexture", function() { return initTexture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setupTextureFilteringAndMips", function() { return setupTextureFilteringAndMips; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initCubeMapTexture", function() { return initCubeMapTexture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initCubeMapTextureForLaterUse", function() { return initCubeMapTextureForLaterUse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setupCubeMapTextureFilteringAndMips", function() { return setupCubeMapTextureFilteringAndMips; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initFramebufferObject", function() { return initFramebufferObject; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "o0o1");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "yXPU");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);


function initWebGl(gl) {
  gl.clearColor(0.0, 0.0, 0.0, 1.0); // 设置背景色

  gl.clear(gl.COLOR_BUFFER_BIT); // 用设置的背景重绘canvas

  gl.clearDepth(1.0); // 清除canvas画布

  gl.enable(gl.DEPTH_TEST); // 开启深度测试，在后面的图形始终会被前面的图形覆盖不管图形在buffer中的坐标点在前还是在后

  gl.enable(gl.POLYGON_OFFSET_FILL); // 消除z-fighting

  gl.polygonOffset(1.0, 1.0);
  gl.depthFunc(gl.LEQUAL); // 设置深度检测的函数，LEQUAL表示后绘制的覆盖在先绘制之上

  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT); // 清除canvas画布的颜色和深度，DEPTH_BUFFER_BIT可以清除被遮盖隐藏的图形
}
function initBuffersForLaterUse(gl, arr) {
  var buffer = gl.createBuffer();

  if (!buffer) {
    console.log('buffer创建失败');
    return;
  } // 绑定buffer对象


  gl.bindBuffer(gl.ARRAY_BUFFER, buffer); // 将数据写入到buffer对象中

  gl.bufferData(gl.ARRAY_BUFFER, arr, gl.STATIC_DRAW); // 清空当前的buffer缓冲区

  gl.bindBuffer(gl.ARRAY_BUFFER, null);
  return buffer;
}
function initElementBuffersForLaterUse(gl, arr) {
  var buffer = gl.createBuffer();

  if (!buffer) {
    console.log('buffer创建失败');
    return;
  } // 绑定buffer对象


  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer); // 将数据写入到buffer对象中

  gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arr, gl.STATIC_DRAW); // 清空当前的buffer缓冲区

  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
  return buffer;
}
function loadFile(_x) {
  return _loadFile.apply(this, arguments);
}

function _loadFile() {
  _loadFile = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(url) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            return _context.abrupt("return", new Promise(function (resolve, reject) {
              var request = new XMLHttpRequest();
              request.open('GET', url, true);

              request.onreadystatechange = function () {
                if (request.readyState === 4 && request.status != 404) {
                  resolve(request.responseText);
                } else if (request.status === 404) {
                  reject("\u52A0\u8F7D\u6587\u4EF6\uFF1A".concat(url, "\u5931\u8D25"));
                }
              };

              request.send();
            }));

          case 1:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _loadFile.apply(this, arguments);
}

function loadBinaryFile(_x2) {
  return _loadBinaryFile.apply(this, arguments);
}

function _loadBinaryFile() {
  _loadBinaryFile = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(url) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            return _context2.abrupt("return", new Promise(function (resolve, reject) {
              var request = new XMLHttpRequest();
              request.open('GET', url, true);
              request.responseType = "arraybuffer";

              request.onreadystatechange = function () {
                if (request.readyState === 4 && request.status != 404) {
                  resolve(request.response);
                } else if (request.status === 404) {
                  reject("\u52A0\u8F7D\u4E8C\u8FDB\u5236\u6570\u636E\uFF1A".concat(url, "\u5931\u8D25"));
                }
              };

              request.send();
            }));

          case 1:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));
  return _loadBinaryFile.apply(this, arguments);
}

function loadShader(gl, type, source) {
  // 创建shader
  var shader = gl.createShader(type); // 将源码添加到shader对象中

  gl.shaderSource(shader, source); // 编译shader

  gl.compileShader(shader); // 如果执行失败

  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
    alert('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));
    gl.deleteShader(shader);
    return null;
  }

  return shader;
}
function initShaderProgram(gl, VSHADER_SOURCE, FSHADER_SOURCE) {
  var shaderProgram = gl.createProgram();
  gl.attachShader(shaderProgram, loadShader(gl, gl.VERTEX_SHADER, VSHADER_SOURCE));
  gl.attachShader(shaderProgram, loadShader(gl, gl.FRAGMENT_SHADER, FSHADER_SOURCE));
  gl.linkProgram(shaderProgram);

  if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {
    alert('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram));
    return null;
  }

  return shaderProgram;
}
function setEyePosition(gl, viewMatrix, eyePosition) {
  // 设置视点位置
  var eyeMatrix = mat4.create();
  mat4.lookAt(eyeMatrix, // 视点位置
  new Float32Array(eyePosition), new Float32Array([// 视点看向的目标点
  0, 0, 0]), new Float32Array([// 视点的方位
  0, 1, 0]));
  gl.uniformMatrix4fv(viewMatrix, false, eyeMatrix);
  return eyeMatrix;
}
function initTexture(gl, image, textureSampler, texture, unit) {
  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1); // 将图片的y坐标轴反转成纹理图片的t轴

  gl.activeTexture(gl["TEXTURE".concat(unit)]); // 激活纹理单位0，支持多个纹理

  gl.bindTexture(gl.TEXTURE_2D, texture); // 绑定纹理对象

  setupTextureFilteringAndMips(gl, image.width, image.height);
  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, // 图片内置格式 JPG使用RGB，PNG使用RGBA
  gl.RGBA, // 图片像素数据格式，必须和上面一致
  gl.UNSIGNED_BYTE, // 图片像素数据类型
  image);
  gl.uniform1i(textureSampler, unit); // 设置0单位的纹理采集器
}
function setupTextureFilteringAndMips(gl, width, height) {
  // 此函数检测图片是否是 mipmap
  function isPowerOf2(value) {
    return (value & value - 1) == 0;
  }

  if (isPowerOf2(width) && isPowerOf2(height)) {
    // the dimensions are power of 2 so generate mips and turn on 
    // tri-linear filtering.
    gl.generateMipmap(gl.TEXTURE_2D);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
  } else {
    // at least one of the dimensions is not a power of 2 so set the filtering
    // so WebGL will render it.

    /**
     * TEXTURE_MAG_FILTER 放大纹理图片
     * TEXTURE_MIN_FILTER 缩小纹理图片
     *      NEAREST
     *      LINEAR
     * TEXTURE_WRAP_S 图片左右边距
     * TEXTURE_WRAP_T 图片上下边距
     *      REPEAT
     *      MIRRORED_REPEAT 
     *      CLAMP_TO_EDGE 使用边界的颜色填充
     */
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
  }
}
function initCubeMapTexture(gl, images, textureSampler, texture, unit) {
  gl.activeTexture(gl["TEXTURE".concat(unit)]); // 激活纹理单位0，支持多个纹理

  var targets = [gl.TEXTURE_CUBE_MAP_POSITIVE_X, gl.TEXTURE_CUBE_MAP_NEGATIVE_X, gl.TEXTURE_CUBE_MAP_POSITIVE_Y, gl.TEXTURE_CUBE_MAP_NEGATIVE_Y, gl.TEXTURE_CUBE_MAP_POSITIVE_Z, gl.TEXTURE_CUBE_MAP_NEGATIVE_Z];
  targets.forEach(function (item, index) {
    gl.bindTexture(gl.TEXTURE_CUBE_MAP, texture);
    gl.texImage2D(item, 0, gl.RGBA, // 图片内置格式 JPG使用RGB，PNG使用RGBA
    gl.RGBA, // 图片像素数据格式，必须和上面一致
    gl.UNSIGNED_BYTE, // 图片像素数据类型
    images[index]);
    setupCubeMapTextureFilteringAndMips(gl, images[index].width, images[index].height);
  });
  gl.uniform1i(textureSampler, unit); // 设置0单位的纹理采集器
}
function initCubeMapTextureForLaterUse(gl, images, texture, unit) {
  gl.activeTexture(gl["TEXTURE".concat(unit)]); // 激活纹理单位0，支持多个纹理

  var targets = [gl.TEXTURE_CUBE_MAP_POSITIVE_X, gl.TEXTURE_CUBE_MAP_NEGATIVE_X, gl.TEXTURE_CUBE_MAP_POSITIVE_Y, gl.TEXTURE_CUBE_MAP_NEGATIVE_Y, gl.TEXTURE_CUBE_MAP_POSITIVE_Z, gl.TEXTURE_CUBE_MAP_NEGATIVE_Z];
  targets.forEach(function (item, index) {
    gl.bindTexture(gl.TEXTURE_CUBE_MAP, texture);
    gl.texImage2D(item, 0, gl.RGBA, // 图片内置格式 JPG使用RGB，PNG使用RGBA
    gl.RGBA, // 图片像素数据格式，必须和上面一致
    gl.UNSIGNED_BYTE, // 图片像素数据类型
    images[index]);
    setupCubeMapTextureFilteringAndMips(gl, images[index].width, images[index].height);
  });
}
function setupCubeMapTextureFilteringAndMips(gl, width, height) {
  // 此函数检测图片是否是 mipmap
  function isPowerOf2(value) {
    return (value & value - 1) == 0;
  }

  if (isPowerOf2(width) && isPowerOf2(height)) {
    gl.generateMipmap(gl.TEXTURE_CUBE_MAP);
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
  } else {
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
  }
}
function initFramebufferObject(gl) {
  // 如果直接将物体绘制到color buffer中，会直接在页面上展示
  // framebuffer对象的作用，可以暂时存储绘制的图形，不会在页面上展示
  //      1. 如果你要使用 surface removal function，也就是 gl.depthFunc(gl.LEQUAL) 则必须使用Renderbuffer用来存储depthBuffer
  //      2. 在framebuffer中可以使用纹理buffer来存储 color buffer，方便后续当做纹理来使用
  var framebuffer = gl.createFramebuffer(); // 创建framebuffer

  var texture = gl.createTexture(); // 创建纹理buffer

  var depthBuffer = gl.createRenderbuffer(); // 创建renderbuffer

  if (!framebuffer && !texture && !depthBuffer) {
    console.log('创建framebuffer失败');
    if (framebuffer) gl.deleteFramebuffer(framebuffer);
    if (texture) gl.deleteTexture(texture);
    if (depthBuffer) gl.deleteRenderbuffer(depthBuffer);
  } // 初始化textureBuffer


  gl.bindTexture(gl.TEXTURE_2D, texture);
  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, document.body.clientWidth, document.body.clientHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
  setupTextureFilteringAndMips(gl, document.body.clientWidth, document.body.clientHeight); // 初始化renderbuffer用来存储depthBuffer

  gl.bindRenderbuffer(gl.RENDERBUFFER, depthBuffer);
  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, document.body.clientWidth, document.body.clientHeight); // 将创建的纹理buffer和renderbuffer放到framebuffer中

  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);
  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);
  gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthBuffer);
  framebuffer.texture = texture;
  gl.bindFramebuffer(gl.FRAMEBUFFER, null);
  gl.bindTexture(gl.TEXTURE_2D, null);
  gl.bindRenderbuffer(gl.RENDERBUFFER, null);
  return framebuffer;
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvV2ViR2xIZWxwZXIuanMiXSwibmFtZXMiOlsiaW5pdFdlYkdsIiwiZ2wiLCJjbGVhckNvbG9yIiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwiY2xlYXJEZXB0aCIsImVuYWJsZSIsIkRFUFRIX1RFU1QiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwicG9seWdvbk9mZnNldCIsImRlcHRoRnVuYyIsIkxFUVVBTCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJpbml0QnVmZmVyc0ZvckxhdGVyVXNlIiwiYXJyIiwiYnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiY29uc29sZSIsImxvZyIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJpbml0RWxlbWVudEJ1ZmZlcnNGb3JMYXRlclVzZSIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwibG9hZEZpbGUiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsImxvYWRCaW5hcnlGaWxlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2UiLCJsb2FkU2hhZGVyIiwidHlwZSIsInNvdXJjZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImFsZXJ0IiwiZ2V0U2hhZGVySW5mb0xvZyIsImRlbGV0ZVNoYWRlciIsImluaXRTaGFkZXJQcm9ncmFtIiwiVlNIQURFUl9TT1VSQ0UiLCJGU0hBREVSX1NPVVJDRSIsInNoYWRlclByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJzZXRFeWVQb3NpdGlvbiIsInZpZXdNYXRyaXgiLCJleWVQb3NpdGlvbiIsImV5ZU1hdHJpeCIsIm1hdDQiLCJjcmVhdGUiLCJsb29rQXQiLCJGbG9hdDMyQXJyYXkiLCJ1bmlmb3JtTWF0cml4NGZ2IiwiaW5pdFRleHR1cmUiLCJpbWFnZSIsInRleHR1cmVTYW1wbGVyIiwidGV4dHVyZSIsInVuaXQiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJhY3RpdmVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwic2V0dXBUZXh0dXJlRmlsdGVyaW5nQW5kTWlwcyIsIndpZHRoIiwiaGVpZ2h0IiwidGV4SW1hZ2UyRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwidW5pZm9ybTFpIiwiaXNQb3dlck9mMiIsInZhbHVlIiwiZ2VuZXJhdGVNaXBtYXAiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsIkxJTkVBUiIsImluaXRDdWJlTWFwVGV4dHVyZSIsImltYWdlcyIsInRhcmdldHMiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1kiLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1kiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1oiLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1oiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwiVEVYVFVSRV9DVUJFX01BUCIsInNldHVwQ3ViZU1hcFRleHR1cmVGaWx0ZXJpbmdBbmRNaXBzIiwiaW5pdEN1YmVNYXBUZXh0dXJlRm9yTGF0ZXJVc2UiLCJpbml0RnJhbWVidWZmZXJPYmplY3QiLCJmcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiY3JlYXRlVGV4dHVyZSIsImRlcHRoQnVmZmVyIiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVUZXh0dXJlIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwiZG9jdW1lbnQiLCJib2R5IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiZnJhbWVidWZmZXJSZW5kZXJidWZmZXIiLCJERVBUSF9BVFRBQ0hNRU5UIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sU0FBU0EsU0FBVCxDQUFvQkMsRUFBcEIsRUFBd0I7QUFDM0JBLElBQUUsQ0FBQ0MsVUFBSCxDQUFjLEdBQWQsRUFBbUIsR0FBbkIsRUFBd0IsR0FBeEIsRUFBNkIsR0FBN0IsRUFEMkIsQ0FDNkI7O0FBQ3hERCxJQUFFLENBQUNFLEtBQUgsQ0FBU0YsRUFBRSxDQUFDRyxnQkFBWixFQUYyQixDQUU2Qjs7QUFDeERILElBQUUsQ0FBQ0ksVUFBSCxDQUFjLEdBQWQsRUFIMkIsQ0FHNkI7O0FBQ3hESixJQUFFLENBQUNLLE1BQUgsQ0FBVUwsRUFBRSxDQUFDTSxVQUFiLEVBSjJCLENBSTZCOztBQUN4RE4sSUFBRSxDQUFDSyxNQUFILENBQVVMLEVBQUUsQ0FBQ08sbUJBQWIsRUFMMkIsQ0FLNkI7O0FBQ3hEUCxJQUFFLENBQUNRLGFBQUgsQ0FBaUIsR0FBakIsRUFBc0IsR0FBdEI7QUFDQVIsSUFBRSxDQUFDUyxTQUFILENBQWFULEVBQUUsQ0FBQ1UsTUFBaEIsRUFQ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bW92ZWN1YmV+bW92ZXBsYW5lfnBvaW50bGlnaHR+cm90YXRlZXllfnNoYWRvd2N1YmV+c2t5Ym94fnNwfjU5ZDhkNzI0LmU2NjY4ZGQzZDM4ZDI4YjM5NzdkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGluaXRXZWJHbCAoZ2wpIHtcbiAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7ICAgICAgICAgICAgICAgICAgICAgIC8vIOiuvue9ruiDjOaZr+iJslxuICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g55So6K6+572u55qE6IOM5pmv6YeN57uYY2FudmFzXG4gICAgZ2wuY2xlYXJEZXB0aCgxLjApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmuIXpmaRjYW52YXPnlLvluINcbiAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOW8gOWQr+a3seW6pua1i+ivle+8jOWcqOWQjumdoueahOWbvuW9ouWni+e7iOS8muiiq+WJjemdoueahOWbvuW9ouimhuebluS4jeeuoeWbvuW9ouWcqGJ1ZmZlcuS4reeahOWdkOagh+eCueWcqOWJjei/mOaYr+WcqOWQjlxuICAgIGdsLmVuYWJsZShnbC5QT0xZR09OX09GRlNFVF9GSUxMKTsgICAgICAgICAgICAgICAgICAgICAgLy8g5raI6Zmkei1maWdodGluZ1xuICAgIGdsLnBvbHlnb25PZmZzZXQoMS4wLCAxLjApOyBcbiAgICBnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOiuvue9rua3seW6puajgOa1i+eahOWHveaVsO+8jExFUVVBTOihqOekuuWQjue7mOWItueahOimhuebluWcqOWFiOe7mOWItuS5i+S4ilxuICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTsgICAgLy8g5riF6ZmkY2FudmFz55S75biD55qE6aKc6Imy5ZKM5rex5bqm77yMREVQVEhfQlVGRkVSX0JJVOWPr+S7pea4hemZpOiiq+mBrueblumakOiXj+eahOWbvuW9olxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEJ1ZmZlcnNGb3JMYXRlclVzZShnbCwgYXJyKSB7XG4gICAgY29uc3QgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgaWYoIWJ1ZmZlcikge1xuICAgICAgICBjb25zb2xlLmxvZygnYnVmZmVy5Yib5bu65aSx6LSlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8g57uR5a6aYnVmZmVy5a+56LGhXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgLy8g5bCG5pWw5o2u5YaZ5YWl5YiwYnVmZmVy5a+56LGh5LitXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFyciwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIC8vIOa4heepuuW9k+WJjeeahGJ1ZmZlcue8k+WGsuWMulxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICByZXR1cm4gYnVmZmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVsZW1lbnRCdWZmZXJzRm9yTGF0ZXJVc2UoZ2wsIGFycikge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGlmKCFidWZmZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2J1ZmZlcuWIm+W7uuWksei0pScpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIOe7keWummJ1ZmZlcuWvueixoVxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgLy8g5bCG5pWw5o2u5YaZ5YWl5YiwYnVmZmVy5a+56LGh5LitXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgYXJyLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgLy8g5riF56m65b2T5YmN55qEYnVmZmVy57yT5Yay5Yy6XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRGaWxlKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgIFxuICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0ICYmIHJlcXVlc3Quc3RhdHVzICE9IDQwNCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGDliqDovb3mlofku7bvvJoke3VybH3lpLHotKVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3Quc2VuZCgpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEJpbmFyeUZpbGUodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuICAgIFxuICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0ICYmIHJlcXVlc3Quc3RhdHVzICE9IDQwNCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5yZXNwb25zZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoYOWKoOi9veS6jOi/m+WItuaVsOaNru+8miR7dXJsfeWksei0pWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRTaGFkZXIoZ2wsIHR5cGUsIHNvdXJjZSkge1xuICAgIC8vIOWIm+W7unNoYWRlclxuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgICAvLyDlsIbmupDnoIHmt7vliqDliLBzaGFkZXLlr7nosaHkuK1cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xuICAgIC8vIOe8luivkXNoYWRlclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAvLyDlpoLmnpzmiafooYzlpLHotKVcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICBhbGVydCgnQW4gZXJyb3Igb2NjdXJyZWQgY29tcGlsaW5nIHRoZSBzaGFkZXJzOiAnICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNoYWRlclByb2dyYW0oZ2wsIFZTSEFERVJfU09VUkNFLCBGU0hBREVSX1NPVVJDRSkge1xuICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGxvYWRTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIFZTSEFERVJfU09VUkNFKSk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGxvYWRTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgRlNIQURFUl9TT1VSQ0UpKTtcbiAgICBnbC5saW5rUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcblxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihzaGFkZXJQcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgYWxlcnQoJ1VuYWJsZSB0byBpbml0aWFsaXplIHRoZSBzaGFkZXIgcHJvZ3JhbTogJyArIGdsLmdldFByb2dyYW1JbmZvTG9nKHNoYWRlclByb2dyYW0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBzaGFkZXJQcm9ncmFtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RXllUG9zaXRpb24oZ2wsIHZpZXdNYXRyaXgsIGV5ZVBvc2l0aW9uKSB7XG4gICAgLy8g6K6+572u6KeG54K55L2N572uXG4gICAgY29uc3QgZXllTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICBtYXQ0Lmxvb2tBdChcbiAgICAgICAgZXllTWF0cml4LFxuICAgICAgICAvLyDop4bngrnkvY3nva5cbiAgICAgICAgbmV3IEZsb2F0MzJBcnJheSggZXllUG9zaXRpb24gKSxcbiAgICAgICAgbmV3IEZsb2F0MzJBcnJheShbIC8vIOinhueCueeci+WQkeeahOebruagh+eCuVxuICAgICAgICAgICAgMCwgMCwgMFxuICAgICAgICBdKSxcbiAgICAgICAgbmV3IEZsb2F0MzJBcnJheShbIC8vIOinhueCueeahOaWueS9jVxuICAgICAgICAgICAgMCwgMSwgMFxuICAgICAgICBdKSxcbiAgICApXG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdih2aWV3TWF0cml4LCBmYWxzZSwgZXllTWF0cml4KTtcbiAgICByZXR1cm4gZXllTWF0cml4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRleHR1cmUoZ2wsIGltYWdlLCB0ZXh0dXJlU2FtcGxlciwgdGV4dHVyZSwgdW5pdCkge1xuICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIDEpOyAgICAgIC8vIOWwhuWbvueJh+eahHnlnZDmoIfovbTlj43ovazmiJDnurnnkIblm77niYfnmoR06L20XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbFtgVEVYVFVSRSR7dW5pdH1gXSk7ICAgICAgICAgLy8g5r+A5rS757q555CG5Y2V5L2NMO+8jOaUr+aMgeWkmuS4que6ueeQhlxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpOyAgICAgICAgIC8vIOe7keWumue6ueeQhuWvueixoVxuICAgIHNldHVwVGV4dHVyZUZpbHRlcmluZ0FuZE1pcHMoZ2wsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuXG4gICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgZ2wuVEVYVFVSRV8yRCwgXG4gICAgICAgIDAsIFxuICAgICAgICBnbC5SR0JBLCAgICAvLyDlm77niYflhoXnva7moLzlvI8gSlBH5L2/55SoUkdC77yMUE5H5L2/55SoUkdCQVxuICAgICAgICBnbC5SR0JBLCAgICAvLyDlm77niYflg4/ntKDmlbDmja7moLzlvI/vvIzlv4XpobvlkozkuIrpnaLkuIDoh7RcbiAgICAgICAgZ2wuVU5TSUdORURfQllURSwgLy8g5Zu+54mH5YOP57Sg5pWw5o2u57G75Z6LXG4gICAgICAgIGltYWdlXG4gICAgKTtcbiAgICBnbC51bmlmb3JtMWkodGV4dHVyZVNhbXBsZXIsIHVuaXQpOyAgICAvLyDorr7nva4w5Y2V5L2N55qE57q555CG6YeH6ZuG5ZmoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFRleHR1cmVGaWx0ZXJpbmdBbmRNaXBzKGdsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgLy8g5q2k5Ye95pWw5qOA5rWL5Zu+54mH5piv5ZCm5pivIG1pcG1hcFxuICAgIGZ1bmN0aW9uIGlzUG93ZXJPZjIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAmICh2YWx1ZSAtIDEpKSA9PSAwO1xuICAgIH1cblxuICAgIGlmIChpc1Bvd2VyT2YyKHdpZHRoKSAmJiBpc1Bvd2VyT2YyKGhlaWdodCkpIHtcbiAgICAgICAgLy8gdGhlIGRpbWVuc2lvbnMgYXJlIHBvd2VyIG9mIDIgc28gZ2VuZXJhdGUgbWlwcyBhbmQgdHVybiBvbiBcbiAgICAgICAgLy8gdHJpLWxpbmVhciBmaWx0ZXJpbmcuXG4gICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9MSU5FQVIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGF0IGxlYXN0IG9uZSBvZiB0aGUgZGltZW5zaW9ucyBpcyBub3QgYSBwb3dlciBvZiAyIHNvIHNldCB0aGUgZmlsdGVyaW5nXG4gICAgICAgIC8vIHNvIFdlYkdMIHdpbGwgcmVuZGVyIGl0LlxuICAgICAgICAvKipcbiAgICAgICAgICogVEVYVFVSRV9NQUdfRklMVEVSIOaUvuWkp+e6ueeQhuWbvueJh1xuICAgICAgICAgKiBURVhUVVJFX01JTl9GSUxURVIg57yp5bCP57q555CG5Zu+54mHXG4gICAgICAgICAqICAgICAgTkVBUkVTVFxuICAgICAgICAgKiAgICAgIExJTkVBUlxuICAgICAgICAgKiBURVhUVVJFX1dSQVBfUyDlm77niYflt6blj7Povrnot51cbiAgICAgICAgICogVEVYVFVSRV9XUkFQX1Qg5Zu+54mH5LiK5LiL6L656LedXG4gICAgICAgICAqICAgICAgUkVQRUFUXG4gICAgICAgICAqICAgICAgTUlSUk9SRURfUkVQRUFUIFxuICAgICAgICAgKiAgICAgIENMQU1QX1RPX0VER0Ug5L2/55So6L6555WM55qE6aKc6Imy5aGr5YWFXG4gICAgICAgICAqL1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTsgXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0Q3ViZU1hcFRleHR1cmUoZ2wsIGltYWdlcywgdGV4dHVyZVNhbXBsZXIsIHRleHR1cmUsIHVuaXQpIHtcbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsW2BURVhUVVJFJHt1bml0fWBdKTsgICAgICAgICAvLyDmv4DmtLvnurnnkIbljZXkvY0w77yM5pSv5oyB5aSa5Liq57q555CGXG4gICAgXG5cbiAgICBjb25zdCB0YXJnZXRzID0gW1xuICAgICAgICBnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1gsXG4gICAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCxcbiAgICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZLFxuICAgICAgICBnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1ksXG4gICAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWixcbiAgICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXG4gICAgXTtcblxuICAgIHRhcmdldHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGV4dHVyZSk7XG5cbiAgICAgICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgIGl0ZW0sIFxuICAgICAgICAgICAgMCwgXG4gICAgICAgICAgICBnbC5SR0JBLCAgICAvLyDlm77niYflhoXnva7moLzlvI8gSlBH5L2/55SoUkdC77yMUE5H5L2/55SoUkdCQVxuICAgICAgICAgICAgZ2wuUkdCQSwgICAgLy8g5Zu+54mH5YOP57Sg5pWw5o2u5qC85byP77yM5b+F6aG75ZKM5LiK6Z2i5LiA6Ie0XG4gICAgICAgICAgICBnbC5VTlNJR05FRF9CWVRFLCAvLyDlm77niYflg4/ntKDmlbDmja7nsbvlnotcbiAgICAgICAgICAgIGltYWdlc1tpbmRleF1cbiAgICAgICAgKTtcblxuICAgICAgICBzZXR1cEN1YmVNYXBUZXh0dXJlRmlsdGVyaW5nQW5kTWlwcyhnbCwgaW1hZ2VzW2luZGV4XS53aWR0aCwgaW1hZ2VzW2luZGV4XS5oZWlnaHQpO1xuICAgIH0pXG5cbiAgICBnbC51bmlmb3JtMWkodGV4dHVyZVNhbXBsZXIsIHVuaXQpOyAgICAvLyDorr7nva4w5Y2V5L2N55qE57q555CG6YeH6ZuG5ZmoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0Q3ViZU1hcFRleHR1cmVGb3JMYXRlclVzZShnbCwgaW1hZ2VzLCB0ZXh0dXJlLCB1bml0KSB7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbFtgVEVYVFVSRSR7dW5pdH1gXSk7ICAgICAgICAgLy8g5r+A5rS757q555CG5Y2V5L2NMO+8jOaUr+aMgeWkmuS4que6ueeQhlxuICAgIFxuICAgIGNvbnN0IHRhcmdldHMgPSBbXG4gICAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCxcbiAgICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YLFxuICAgICAgICBnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ksXG4gICAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWSxcbiAgICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aLFxuICAgICAgICBnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pcbiAgICBdO1xuXG4gICAgdGFyZ2V0cy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLCB0ZXh0dXJlKTtcblxuICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgaXRlbSwgXG4gICAgICAgICAgICAwLCBcbiAgICAgICAgICAgIGdsLlJHQkEsICAgIC8vIOWbvueJh+WGhee9ruagvOW8jyBKUEfkvb/nlKhSR0LvvIxQTkfkvb/nlKhSR0JBXG4gICAgICAgICAgICBnbC5SR0JBLCAgICAvLyDlm77niYflg4/ntKDmlbDmja7moLzlvI/vvIzlv4XpobvlkozkuIrpnaLkuIDoh7RcbiAgICAgICAgICAgIGdsLlVOU0lHTkVEX0JZVEUsIC8vIOWbvueJh+WDj+e0oOaVsOaNruexu+Wei1xuICAgICAgICAgICAgaW1hZ2VzW2luZGV4XVxuICAgICAgICApO1xuXG4gICAgICAgIHNldHVwQ3ViZU1hcFRleHR1cmVGaWx0ZXJpbmdBbmRNaXBzKGdsLCBpbWFnZXNbaW5kZXhdLndpZHRoLCBpbWFnZXNbaW5kZXhdLmhlaWdodCk7XG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwQ3ViZU1hcFRleHR1cmVGaWx0ZXJpbmdBbmRNaXBzKGdsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgLy8g5q2k5Ye95pWw5qOA5rWL5Zu+54mH5piv5ZCm5pivIG1pcG1hcFxuICAgIGZ1bmN0aW9uIGlzUG93ZXJPZjIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAmICh2YWx1ZSAtIDEpKSA9PSAwO1xuICAgIH1cblxuICAgIGlmIChpc1Bvd2VyT2YyKHdpZHRoKSAmJiBpc1Bvd2VyT2YyKGhlaWdodCkpIHtcbiAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV9DVUJFX01BUCk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7IFxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEZyYW1lYnVmZmVyT2JqZWN0KGdsKSB7XG4gICAgLy8g5aaC5p6c55u05o6l5bCG54mp5L2T57uY5Yi25YiwY29sb3IgYnVmZmVy5Lit77yM5Lya55u05o6l5Zyo6aG16Z2i5LiK5bGV56S6XG4gICAgLy8gZnJhbWVidWZmZXLlr7nosaHnmoTkvZznlKjvvIzlj6/ku6XmmoLml7blrZjlgqjnu5jliLbnmoTlm77lvaLvvIzkuI3kvJrlnKjpobXpnaLkuIrlsZXnpLpcbiAgICAvLyAgICAgIDEuIOWmguaenOS9oOimgeS9v+eUqCBzdXJmYWNlIHJlbW92YWwgZnVuY3Rpb27vvIzkuZ/lsLHmmK8gZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCkg5YiZ5b+F6aG75L2/55SoUmVuZGVyYnVmZmVy55So5p2l5a2Y5YKoZGVwdGhCdWZmZXJcbiAgICAvLyAgICAgIDIuIOWcqGZyYW1lYnVmZmVy5Lit5Y+v5Lul5L2/55So57q555CGYnVmZmVy5p2l5a2Y5YKoIGNvbG9yIGJ1ZmZlcu+8jOaWueS+v+WQjue7reW9k+WBmue6ueeQhuadpeS9v+eUqFxuXG4gICAgbGV0IGZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTsgLy8g5Yib5bu6ZnJhbWVidWZmZXJcbiAgICBsZXQgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTsgLy8g5Yib5bu657q555CGYnVmZmVyXG4gICAgbGV0IGRlcHRoQnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7IC8vIOWIm+W7unJlbmRlcmJ1ZmZlclxuXG4gICAgaWYgKCFmcmFtZWJ1ZmZlciAmJiAhdGV4dHVyZSAmJiAhZGVwdGhCdWZmZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+WIm+W7umZyYW1lYnVmZmVy5aSx6LSlJyk7XG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlcikgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICBpZiAodGV4dHVyZSkgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgaWYgKGRlcHRoQnVmZmVyKSBnbC5kZWxldGVSZW5kZXJidWZmZXIoZGVwdGhCdWZmZXIpO1xuICAgIH1cbiAgICBcbiAgICAvLyDliJ3lp4vljJZ0ZXh0dXJlQnVmZmVyXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgc2V0dXBUZXh0dXJlRmlsdGVyaW5nQW5kTWlwcyhnbCwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpO1xuICAgIFxuICAgIC8vIOWIneWni+WMlnJlbmRlcmJ1ZmZlcueUqOadpeWtmOWCqGRlcHRoQnVmZmVyXG4gICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGRlcHRoQnVmZmVyKTtcbiAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KTtcbiAgXG4gICAgLy8g5bCG5Yib5bu655qE57q555CGYnVmZmVy5ZKMcmVuZGVyYnVmZmVy5pS+5YiwZnJhbWVidWZmZXLkuK1cbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lYnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIGRlcHRoQnVmZmVyKTtcbiAgXG4gICAgZnJhbWVidWZmZXIudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgbnVsbCk7XG4gIFxuICAgIHJldHVybiBmcmFtZWJ1ZmZlcjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=