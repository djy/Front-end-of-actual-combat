(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["tree"],{

/***/ "H5P3":
/*!***************************!*\
  !*** ./src/tree/index.ts ***!
  \***************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */ "VphZ");

// 树形结构，同一层节点在同一层
const chartWidth = 800;
const color = d3__WEBPACK_IMPORTED_MODULE_0__["hsl"]('#fea').brighter(0.3);
d3__WEBPACK_IMPORTED_MODULE_0__["json"]('./static/tree.json').then((data) => {
    // 生成hierarchy层级排序数据
    const hc = d3__WEBPACK_IMPORTED_MODULE_0__["hierarchy"](data, (d) => d.children).sort((a, b) => (a.height - b.height) || a.data.name.localeCompare(b.data.name));
    const nodeMargin = 10; // 设置树节点的上下间距
    const nodeSpan = chartWidth / (hc.height + 1); // 设置树连线的长度
    const hcData = d3__WEBPACK_IMPORTED_MODULE_0__["cluster"]().nodeSize([nodeMargin, nodeSpan])(hc);
    // 找出生成数据的x坐标的最值
    let xMin = Infinity;
    let xMax = -xMin;
    hcData.each((d) => {
        if (d.x > xMax) {
            xMax = d.x;
        }
        if (d.x < xMin) {
            xMin = d.x;
        }
    });
    const svg = d3__WEBPACK_IMPORTED_MODULE_0__["select"]('body')
        .append('svg')
        .attr('class', 'chart')
        .style('background', color.toString())
        .style('max-width', chartWidth)
        .style('height', 'auto')
        .attr('viewBox', [0, 0, chartWidth, xMax - xMin + nodeMargin * 2]);
    const g = svg.append('g')
        .attr('font-family', 'sans-serif')
        .attr('font-size', 10)
        .attr('transform', `translate(${nodeSpan / 3}, ${nodeMargin - xMin})`);
    // 绘制连线
    const link = g.append('g')
        .attr('fill', 'none')
        .attr('stroke', '#555')
        .attr('stroke-opacity', 0.4)
        .attr('stroke-width', 1.5)
        .selectAll('path')
        .data(hcData.links())
        .join('path')
        .attr('d', d3__WEBPACK_IMPORTED_MODULE_0__["linkHorizontal"]().x((d) => d.y).y((d) => d.x));
    const node = g.append('g')
        .attr('stroke-linejoin', 'round')
        .attr('stroke-width', 3)
        .selectAll('g')
        .data(hcData.descendants())
        .join('g')
        .attr('transform', (d) => `translate(${d.y},${d.x})`);
    // 绘制圆点
    node.append('circle')
        .attr('fill', (d) => d.children ? '#555' : '#999')
        .attr('r', 2.5);
    // 绘制文本
    node.append('text')
        .attr('dy', '0.31em')
        .attr('x', (d) => d.children ? -6 : 6)
        .text((d) => d.data.name)
        .attr('text-anchor', (d) => d.children ? 'end' : 'start')
        .clone(true).lower()
        .attr('stroke', 'white');
    // 设置svg视口大小
    svg.attr('viewBox', function () {
        const { x, y, width, height } = this.getBBox();
        return [x, y, width, height];
    });
});


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHJlZS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUF5QjtBQUV6QixpQkFBaUI7QUFDakIsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDO0FBQ3ZCLE1BQU0sS0FBSyxHQUFHLHNDQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNDLHVDQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtJQUN4QyxvQkFBb0I7SUFDcEIsTUFBTSxFQUFFLEdBQUcsNENBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDdEksTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDLENBQUUsYUFBYTtJQUNyQyxNQUFNLFFBQVEsR0FBRyxVQUFVLEdBQUcsQ0FBQyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVztJQUMxRCxNQUFNLE1BQU0sR0FBRywwQ0FBVSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFFakUsZ0JBQWdCO0lBQ2hCLElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQztJQUNwQixJQUFJLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQztJQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FB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U0FDcEIsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNyQyxJQUFJLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQzdCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1NBQ3hELEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUU7U0FDbkIsSUFBSSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUU3QixZQUFZO0lBQ1osR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDaEIsTUFBTSxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3QyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDakMsQ0FBUSxDQUFDLENBQUM7QUFFZCxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJ0cmVlLmQ5Zjg2NWZiYmJjODI4YWRkNWY1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG4vLyDmoJHlvaLnu5PmnoTvvIzlkIzkuIDlsYLoioLngrnlnKjlkIzkuIDlsYJcbmNvbnN0IGNoYXJ0V2lkdGggPSA4MDA7XG5jb25zdCBjb2xvciA9IGQzLmhzbCgnI2ZlYScpLmJyaWdodGVyKDAuMyk7XG5kMy5qc29uKCcuL3N0YXRpYy90cmVlLmpzb24nKS50aGVuKChkYXRhKSA9PiB7XG4gICAgLy8g55Sf5oiQaGllcmFyY2h55bGC57qn5o6S5bqP5pWw5o2uXG4gICAgY29uc3QgaGMgPSBkMy5oaWVyYXJjaHkoZGF0YSwgKGQ6IGFueSkgPT4gZC5jaGlsZHJlbikuc29ydCgoYSwgYikgPT4gKGEuaGVpZ2h0IC0gYi5oZWlnaHQpIHx8IGEuZGF0YS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5kYXRhLm5hbWUpKTtcbiAgICBjb25zdCBub2RlTWFyZ2luID0gMTA7ICAvLyDorr7nva7moJHoioLngrnnmoTkuIrkuIvpl7Tot51cbiAgICBjb25zdCBub2RlU3BhbiA9IGNoYXJ0V2lkdGggLyAoaGMuaGVpZ2h0ICsgMSk7IC8vIOiuvue9ruagkei/nue6v+eahOmVv+W6plxuICAgIGNvbnN0IGhjRGF0YSA9IGQzLmNsdXN0ZXIoKS5ub2RlU2l6ZShbbm9kZU1hcmdpbiwgbm9kZVNwYW5dKShoYyk7XG5cbiAgICAvLyDmib7lh7rnlJ/miJDmlbDmja7nmoR45Z2Q5qCH55qE5pyA5YC8XG4gICAgbGV0IHhNaW4gPSBJbmZpbml0eTtcbiAgICBsZXQgeE1heCA9IC14TWluO1xuICAgIGhjRGF0YS5lYWNoKChkKSA9PiB7XG4gICAgICAgIGlmIChkLnggPiB4TWF4KSB7XG4gICAgICAgICAgICB4TWF4ID0gZC54O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkLnggPCB4TWluKSB7XG4gICAgICAgICAgICB4TWluID0gZC54O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzdmcgPSBkMy5zZWxlY3QoJ2JvZHknKVxuICAgICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnY2hhcnQnKVxuICAgICAgICAuc3R5bGUoJ2JhY2tncm91bmQnLCBjb2xvci50b1N0cmluZygpKVxuICAgICAgICAuc3R5bGUoJ21heC13aWR0aCcsIGNoYXJ0V2lkdGgpXG4gICAgICAgIC5zdHlsZSgnaGVpZ2h0JywgJ2F1dG8nKVxuICAgICAgICAuYXR0cigndmlld0JveCcsIFswLCAwLCBjaGFydFdpZHRoLCB4TWF4IC0geE1pbiArIG5vZGVNYXJnaW4gKiAyXSBhcyBhbnkpO1xuXG4gICAgY29uc3QgZyA9IHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAxMClcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtub2RlU3BhbiAvIDN9LCAke25vZGVNYXJnaW4gLSB4TWlufSlgKTtcblxuICAgIC8vIOe7mOWItui/nue6v1xuICAgIGNvbnN0IGxpbmsgPSBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJyM1NTUnKVxuICAgICAgICAuYXR0cignc3Ryb2tlLW9wYWNpdHknLCAwLjQpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxLjUpXG4gICAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAuZGF0YShoY0RhdGEubGlua3MoKSlcbiAgICAgICAgLmpvaW4oJ3BhdGgnKVxuICAgICAgICAuYXR0cignZCcsIGQzLmxpbmtIb3Jpem9udGFsKCkueCgoZDogYW55KSA9PiBkLnkpLnkoKGQ6IGFueSkgPT4gZC54KSBhcyBhbnkpO1xuXG4gICAgY29uc3Qgbm9kZSA9IGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS1saW5lam9pbicsICdyb3VuZCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAzKVxuICAgICAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAgICAgLmRhdGEoaGNEYXRhLmRlc2NlbmRhbnRzKCkpXG4gICAgICAgIC5qb2luKCdnJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkKSA9PiBgdHJhbnNsYXRlKCR7ZC55fSwke2QueH0pYCk7XG5cbiAgICAvLyDnu5jliLblnIbngrlcbiAgICBub2RlLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAoZCkgPT4gZC5jaGlsZHJlbiA/ICcjNTU1JyA6ICcjOTk5JylcbiAgICAgICAgLmF0dHIoJ3InLCAyLjUpO1xuXG4gICAgLy8g57uY5Yi25paH5pysXG4gICAgbm9kZS5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAuYXR0cignZHknLCAnMC4zMWVtJylcbiAgICAgICAgLmF0dHIoJ3gnLCAoZCkgPT4gZC5jaGlsZHJlbiA/IC02IDogNilcbiAgICAgICAgLnRleHQoKGQ6IGFueSkgPT4gZC5kYXRhLm5hbWUpXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsIChkKSA9PiBkLmNoaWxkcmVuID8gJ2VuZCcgOiAnc3RhcnQnKVxuICAgICAgICAuY2xvbmUodHJ1ZSkubG93ZXIoKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ3doaXRlJyk7XG5cbiAgICAvLyDorr7nva5zdmfop4blj6PlpKflsI9cbiAgICBzdmcuYXR0cigndmlld0JveCcsIGZ1bmN0aW9uKHRoaXM6IGFueSkge1xuICAgICAgICBjb25zdCB7eCwgeSwgd2lkdGgsIGhlaWdodH0gPSB0aGlzLmdldEJCb3goKTtcbiAgICAgICAgcmV0dXJuIFt4LCB5LCB3aWR0aCwgaGVpZ2h0XTtcbiAgICB9IGFzIGFueSk7XG5cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==